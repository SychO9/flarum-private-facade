(()=>{var e,t,r={801:e=>{"use strict";e.exports=flarum.reg.get("core","common/components/Icon")},208:e=>{"use strict";e.exports=flarum.reg.get("core","forum/components/LogInModal")},467:e=>{"use strict";e.exports=flarum.reg.get("core","forum/components/SignUpModal")},192:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var o=r(527);function a(e,t,r){return(t=(0,o.A)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},730:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var o=r(819);function a(e,t){if("object"!=(0,o.A)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=(0,o.A)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}},527:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var o=r(819),a=r(730);function c(e){var t=(0,a.A)(e,"string");return"symbol"==(0,o.A)(t)?t:t+""}},819:(e,t,r)=>{"use strict";function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}r.d(t,{A:()=>o})}},o={};function a(e){flarum.reg._webpack_runtimes["sychoprivate-facade"]||=a;var t=o[e];if(void 0!==t)return t.exports;var c=o[e]={exports:{}};return r[e](c,c.exports,a),c.exports}a.m=r,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,r)=>(a.f[r](e,t),t)),[])),a.u=e=>({556:"forum/components/LogInSection",857:"forum/components/SignUpSection"}[e]+".js"),a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="module.exports:",a.l=(r,o,c,n)=>{if(e[r])e[r].push(o);else{var i,s;if(void 0!==c)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var m=l[u];if(m.getAttribute("src")==r||m.getAttribute("data-webpack")==t+c){i=m;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+c),i.src=r),e[r]=[o];var h=(t,o)=>{i.onerror=i.onload=null,clearTimeout(d);var a=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(o))),t)return t(o)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),s&&document.head.appendChild(i)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),a.f.compat=(e,t)=>{const r=a.l;a.l=flarum.reg.loadChunk.bind(flarum.reg,r)},(()=>{var e={170:0};a.f.j=(t,r)=>{var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var c=new Promise(((r,a)=>o=e[t]=[r,a]));r.push(o[2]=c);var n=a.p+a.u(t),i=new Error;a.l(n,(r=>{if(a.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var c=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+c+": "+n+")",i.name="ChunkLoadError",i.type=c,i.request=n,o[1](i)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,c,[n,i,s]=r,l=0;if(n.some((t=>0!==e[t]))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);s&&s(a)}for(t&&t(r);l<n.length;l++)c=n[l],a.o(e,c)&&e[c]&&e[c][0](),e[c]=0},r=self.webpackChunkmodule_exports=self.webpackChunkmodule_exports||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var c={};(()=>{"use strict";a.r(c),a.d(c,{extend:()=>L});const e=flarum.reg.get("core","forum/app");var t=a.n(e);const r=flarum.reg.get("core","forum/components/HeaderPrimary");var o=a.n(r);const n=flarum.reg.get("core","common/extend"),i=flarum.reg.get("core","forum/components/HeaderSecondary");var s=a.n(i);const l=flarum.reg.get("core","common/components/Navigation");var u=a.n(l);const h=flarum.reg.get("core","common/components/LinkButton");var d=a.n(h);const f=flarum.reg.get("core","common/resolvers/DefaultResolver");var v=a.n(f);const p=flarum.reg.get("core","common/extenders");var g=a.n(p),y=a(192);const b=flarum.reg.get("core","common/Component");var w=a.n(b);const x=flarum.reg.get("core","common/components/LoadingIndicator");var _=a.n(x);class z extends(w()){constructor(){super(...arguments),(0,y.A)(this,"loading",!0),(0,y.A)(this,"LogInSection",void 0)}oninit(e){super.oninit(e),flarum.reg.asyncModuleImport("flarum/forum/components/LogInModal").then((()=>a.e(556).then(a.bind(a,908)).then((e=>{this.LogInSection=e.default,this.loading=!1,m.redraw()}))))}view(){if(this.loading)return m(_(),null);const e=this.LogInSection;return m(e,{routeSwitcher:this.attrs.routeSwitcher,animateShow:()=>null})}}flarum.reg.add("sychoprivate-facade","forum/components/LogInView",z),flarum.reg.addChunkModule("556","908","sychoprivate-facade","forum/components/LogInSection"),flarum.reg.addChunkModule("556","908","sychoprivate-facade","forum/utils/mapChildren");class S extends(w()){view(){const e=t().forum.attribute("sycho-private-facade.illustration_url");return e?m("img",{src:e,alt:""}):m("svg",{width:"900",height:"600",viewBox:"0 0 900 600",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m("path",{fill:"transparent",d:"M0 0h900v600H0z"}),m("rect",{x:"342.141",y:"162",width:"42.461",height:"112.141",rx:"21.231",transform:"rotate(90 342.141 162)",fill:"#E1E4E5"}),m("rect",{x:"337.265",y:"166.331",width:"33.751",height:"33.751",rx:"16.876",transform:"rotate(90 337.265 166.331)",fill:"#fff"}),m("rect",{x:"516.369",y:"401",width:"42.461",height:"112.141",rx:"21.231",transform:"rotate(90 516.369 401)",fill:"#E1E4E5"}),m("rect",{x:"511.493",y:"405.331",width:"33.751",height:"33.751",rx:"16.876",transform:"rotate(90 511.493 405.331)",fill:"#fff"}),m("rect",{x:"141.84",y:"291.334",width:"161.335",height:"161.335",rx:"80.668",fill:"#666AF6"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M259.171 405.842v5.394c0 2.977-2.385 5.394-5.323 5.394h-63.876c-2.939 0-5.323-2.417-5.323-5.394v-5.481c0-16.322 18.407-26.926 37.261-26.926 18.854 0 37.261 10.61 37.261 26.926m-23.901-74.313c7.381 7.381 7.381 19.348 0 26.729-7.381 7.382-19.349 7.382-26.73 0-7.381-7.381-7.381-19.348 0-26.729s19.349-7.381 26.73 0z",fill:"#fff"}),m("rect",{x:"584.96",y:"317.464",width:"161.335",height:"161.335",rx:"80.668",fill:"#666AF6"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M702.292 431.972v5.394c0 2.977-2.385 5.394-5.323 5.394h-63.877c-2.938 0-5.323-2.417-5.323-5.394v-5.481c0-16.322 18.407-26.927 37.261-26.927 18.855 0 37.262 10.61 37.262 26.927m-23.902-74.313c7.381 7.381 7.381 19.348 0 26.729-7.381 7.382-19.348 7.382-26.729 0-7.382-7.381-7.382-19.348 0-26.729 7.381-7.381 19.348-7.381 26.729 0z",fill:"#fff"}),m("rect",{x:"370",y:"181",width:"161.335",height:"161.335",rx:"80.668",fill:"#666AF6"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M487.331 295.507v5.394c0 2.978-2.385 5.394-5.323 5.394h-63.876c-2.938 0-5.323-2.416-5.323-5.394v-5.48c0-16.322 18.407-26.927 37.261-26.927 18.854 0 37.261 10.61 37.261 26.927m-23.901-74.313c7.381 7.381 7.381 19.348 0 26.729-7.382 7.381-19.349 7.381-26.73 0s-7.381-19.348 0-26.729c7.381-7.382 19.348-7.382 26.73 0z",fill:"#fff"}),m("path",{d:"M259.701 232.542h.147c.874 12.56 10.079 12.753 10.079 12.753s-10.15.201-10.15 14.714c0-14.513-10.151-14.714-10.151-14.714s9.201-.193 10.075-12.753zm303.761 89.277h.147c.874 12.56 10.079 12.753 10.079 12.753s-10.151.202-10.151 14.714c0-14.512-10.15-14.714-10.15-14.714s9.201-.193 10.075-12.753zm-218.839 29.397h.148c.873 12.559 10.079 12.753 10.079 12.753s-10.151.201-10.151 14.713c0-14.512-10.151-14.713-10.151-14.713s9.202-.194 10.075-12.753zm27.452-212.791h.148c.873 12.559 10.079 12.753 10.079 12.753s-10.151.201-10.151 14.713c0-14.512-10.151-14.713-10.151-14.713s9.202-.194 10.075-12.753zm222.918 53.989h.071c.422 6.062 4.865 6.155 4.865 6.155s-4.9.097-4.9 7.102c0-7.005-4.899-7.102-4.899-7.102s4.441-.093 4.863-6.155zm-468.977 116.34h.072c.421 6.063 4.864 6.156 4.864 6.156s-4.899.097-4.899 7.102c0-7.005-4.899-7.102-4.899-7.102s4.441-.093 4.862-6.156zm-9.798 121.94h.071c.422 6.062 4.865 6.156 4.865 6.156s-4.9.097-4.9 7.101c0-7.004-4.899-7.101-4.899-7.101s4.441-.094 4.863-6.156zm657.604-71.857h.071c.422 6.062 4.865 6.155 4.865 6.155s-4.9.097-4.9 7.102c0-7.005-4.899-7.102-4.899-7.102s4.441-.093 4.863-6.155z",fill:"#E1E4E5"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M735.689 297.235h3.597c.87 0 1.57.708 1.57 1.57v3.598c0 .869-.707 1.57-1.57 1.57h-3.597c-.863 0-1.57-.708-1.57-1.57v-3.598c-.008-.862.7-1.57 1.57-1.57zm12.472 0h3.597c.863 0 1.571.708 1.571 1.57v3.598c0 .869-.708 1.57-1.571 1.57h-3.597c-.862 0-1.57-.708-1.57-1.57v-3.598c0-.862.708-1.57 1.57-1.57zm12.481 0h3.597c.862 0 1.57.708 1.57 1.57v3.598c0 .869-.708 1.57-1.57 1.57h-3.597a1.577 1.577 0 0 1-1.571-1.57v-3.598a1.568 1.568 0 0 1 1.571-1.57zm12.472 0h3.597c.863 0 1.57.708 1.57 1.57v3.598c0 .869-.707 1.57-1.57 1.57h-3.597c-.87 0-1.578-.708-1.578-1.57v-3.598a1.588 1.588 0 0 1 1.578-1.57zm12.473 0h3.597c.87 0 1.578.708 1.578 1.57v3.598c0 .869-.708 1.57-1.578 1.57h-3.597c-.863 0-1.57-.708-1.57-1.57v-3.598c0-.862.707-1.57 1.57-1.57zm-36.969 13.601h3.598c.862 0 1.57.707 1.57 1.57v3.604c0 .863-.708 1.571-1.57 1.571h-3.598c-.869 0-1.57-.708-1.57-1.571v-3.597a1.568 1.568 0 0 1 1.57-1.577zm12.473 0h3.597c.863 0 1.57.707 1.57 1.57v3.604c0 .863-.707 1.571-1.57 1.571h-3.597c-.863 0-1.57-.708-1.57-1.571v-3.597c-.008-.87.7-1.577 1.57-1.577zm12.473 0h3.597c.87 0 1.578.707 1.578 1.57v3.604c0 .863-.708 1.571-1.578 1.571h-3.597c-.863 0-1.57-.708-1.57-1.571v-3.597c0-.87.707-1.577 1.57-1.577zm-12.922-28.212h3.597c.862 0 1.57.708 1.57 1.571v3.597c0 .87-.708 1.57-1.57 1.57h-3.597a1.577 1.577 0 0 1-1.571-1.57v-3.597a1.568 1.568 0 0 1 1.571-1.571zm12.472 0h3.597c.863 0 1.57.708 1.57 1.571v3.597c0 .87-.707 1.57-1.57 1.57h-3.597c-.87 0-1.578-.708-1.578-1.57v-3.597a1.588 1.588 0 0 1 1.578-1.571zM318.698 439.861h3.598c.87 0 1.57.708 1.57 1.57v3.598c0 .869-.708 1.57-1.57 1.57h-3.598c-.862 0-1.57-.708-1.57-1.57v-3.598a1.568 1.568 0 0 1 1.57-1.57zm12.473 0h3.597c.862 0 1.57.708 1.57 1.57v3.598c0 .869-.708 1.57-1.57 1.57h-3.597c-.863 0-1.57-.708-1.57-1.57v-3.598c0-.862.707-1.57 1.57-1.57zm12.48 0h3.597c.863 0 1.571.708 1.571 1.57v3.598c0 .869-.708 1.57-1.571 1.57h-3.597c-.862 0-1.57-.708-1.57-1.57v-3.598c-.007-.862.7-1.57 1.57-1.57zm12.472 0h3.598c.862 0 1.57.708 1.57 1.57v3.598c0 .869-.708 1.57-1.57 1.57h-3.598c-.87 0-1.577-.708-1.577-1.57v-3.598a1.587 1.587 0 0 1 1.577-1.57zm12.473 0h3.598c.87 0 1.577.708 1.577 1.57v3.598c0 .869-.707 1.57-1.577 1.57h-3.598c-.862 0-1.57-.708-1.57-1.57v-3.598c0-.862.708-1.57 1.57-1.57zm-36.968 13.601h3.597c.863 0 1.57.707 1.57 1.57v3.604c0 .863-.707 1.571-1.57 1.571h-3.597c-.87 0-1.57-.708-1.57-1.571v-3.597c-.008-.87.7-1.577 1.57-1.577zm12.472 0h3.597c.863 0 1.571.707 1.571 1.57v3.604c0 .863-.708 1.571-1.571 1.571H344.1c-.862 0-1.57-.708-1.57-1.571v-3.597c-.007-.87.7-1.577 1.57-1.577zm12.473 0h3.598c.869 0 1.577.707 1.577 1.57v3.604c0 .863-.708 1.571-1.577 1.571h-3.598c-.862 0-1.57-.708-1.57-1.571v-3.597c0-.87.708-1.577 1.57-1.577zm-12.922-28.212h3.597c.863 0 1.571.708 1.571 1.571v3.597c0 .87-.708 1.57-1.571 1.57h-3.597c-.862 0-1.57-.708-1.57-1.57v-3.597a1.567 1.567 0 0 1 1.57-1.571zm12.472 0h3.598c.862 0 1.57.708 1.57 1.571v3.597c0 .87-.708 1.57-1.57 1.57h-3.598c-.87 0-1.577-.708-1.577-1.57v-3.597a1.587 1.587 0 0 1 1.577-1.571zm185.495-284.639h3.597c.87 0 1.57.707 1.57 1.57v3.597c0 .87-.708 1.57-1.57 1.57h-3.597c-.863 0-1.57-.707-1.57-1.57v-3.597c-.008-.863.7-1.57 1.57-1.57zm12.472 0h3.597c.862 0 1.57.707 1.57 1.57v3.597c0 .87-.708 1.57-1.57 1.57h-3.597a1.576 1.576 0 0 1-1.571-1.57v-3.597c0-.863.708-1.57 1.571-1.57zm12.48 0h3.597c.863 0 1.571.707 1.571 1.57v3.597c0 .87-.708 1.57-1.571 1.57h-3.597c-.862 0-1.57-.707-1.57-1.57v-3.597c-.007-.863.7-1.57 1.57-1.57zm12.472 0h3.598c.862 0 1.57.707 1.57 1.57v3.597c0 .87-.708 1.57-1.57 1.57h-3.598c-.87 0-1.577-.707-1.577-1.57v-3.597a1.587 1.587 0 0 1 1.577-1.57zm12.473 0h3.598c.87 0 1.577.707 1.577 1.57v3.597c0 .87-.707 1.57-1.577 1.57h-3.598c-.862 0-1.57-.707-1.57-1.57v-3.597c0-.863.708-1.57 1.57-1.57zm-36.968 13.6h3.597c.863 0 1.571.708 1.571 1.57v3.605c0 .862-.708 1.57-1.571 1.57h-3.597c-.87 0-1.57-.708-1.57-1.57v-3.597c-.007-.87.7-1.578 1.57-1.578zm12.472 0h3.598c.862 0 1.57.708 1.57 1.57v3.605c0 .862-.708 1.57-1.57 1.57h-3.598c-.862 0-1.57-.708-1.57-1.57v-3.597c-.007-.87.7-1.578 1.57-1.578zm12.473 0h3.598c.87 0 1.577.708 1.577 1.57v3.605c0 .862-.707 1.57-1.577 1.57h-3.598c-.862 0-1.57-.708-1.57-1.57v-3.597c0-.87.708-1.578 1.57-1.578zM566.57 126h3.597c.863 0 1.571.708 1.571 1.57v3.597c0 .87-.708 1.571-1.571 1.571h-3.597c-.862 0-1.57-.708-1.57-1.571v-3.597c-.007-.862.7-1.57 1.57-1.57zm12.472 0h3.598c.862 0 1.57.708 1.57 1.57v3.597c0 .87-.708 1.571-1.57 1.571h-3.598c-.87 0-1.577-.708-1.577-1.571v-3.597a1.587 1.587 0 0 1 1.577-1.57z",fill:"#E1E4E5"}),m("path",{d:"M107 247.088c14.587-17.039 40.212-44.843 26.019-19.749-17.74 31.367 14.784 10.455 26.02 0 11.235-10.456 37.846-18.007 18.923 9.294-18.923 27.3 35.481 11.036 45.534-9.294",stroke:"#E1E4E5","stroke-width":"4.355"}),m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M625.244 189.227c0-32.6 26.428-59.027 59.028-59.027h50.701c32.6 0 59.027 26.427 59.027 59.027s-26.427 59.028-59.027 59.028h-16.962l-26.588 21.366c-1.968 1.582-4.892.181-4.892-2.345v-19.021h-2.259c-32.6 0-59.028-26.428-59.028-59.028z",fill:"#666AF6"}),m("rect",{width:"43.623",height:"7.036",rx:"3.518",transform:"matrix(-1 0 0 1 750.256 167.808)",fill:"#fff"}),m("rect",{width:"66.842",height:"7.036",rx:"3.518",transform:"matrix(-1 0 0 1 750.256 186.102)",fill:"#fff"}),m("rect",{width:"91.468",height:"7.036",rx:"3.518",transform:"matrix(-1 0 0 1 750.256 204.396)",fill:"#fff"}),m("circle",{r:"10.343",transform:"matrix(-1 0 0 1 654.343 99.343)",fill:"#E1E4E5"}),m("circle",{r:"4",transform:"matrix(-1 0 0 1 491 144)",fill:"#E1E4E5"}),m("circle",{r:"10.343",transform:"matrix(-1 0 0 1 155.449 290.79)",fill:"#E1E4E5"}),m("circle",{r:"10.343",transform:"matrix(-1 0 0 1 552.842 433.416)",fill:"#E1E4E5"}),m("circle",{r:"5.444",transform:"matrix(-1 0 0 1 623.067 286.979)",fill:"#E1E4E5"}),m("circle",{r:"5.444",transform:"matrix(-1 0 0 1 197.366 485.132)",fill:"#E1E4E5"}))}}flarum.reg.add("sychoprivate-facade","forum/components/DefaultLoginIllustration",S);class E extends(w()){constructor(){super(...arguments),(0,y.A)(this,"loading",!0),(0,y.A)(this,"SignUpSection",void 0)}oninit(e){super.oninit(e),flarum.reg.asyncModuleImport("flarum/forum/components/SignUpModal").then((()=>a.e(857).then(a.bind(a,169)).then((e=>{this.SignUpSection=e.default,this.loading=!1,m.redraw()}))))}view(){if(this.loading)return m(_(),null);const e=this.SignUpSection;return m(e,{routeSwitcher:this.attrs.routeSwitcher,animateShow:()=>null})}}flarum.reg.add("sychoprivate-facade","forum/components/SignUpView",E),flarum.reg.addChunkModule("857","169","sychoprivate-facade","forum/components/SignUpSection");const A=flarum.reg.get("core","common/components/Button");var k=a.n(A);const P=flarum.reg.get("core","common/utils/extractText");var F=a.n(P);const M=flarum.reg.get("core","common/components/Page");var N=a.n(M);const B=flarum.reg.get("core","common/utils/classList");var C=a.n(B);class I extends(N()){constructor(){super(...arguments),(0,y.A)(this,"currentRoute",void 0),(0,y.A)(this,"routes",void 0)}oninit(e){super.oninit(e),this.routes={"sycho-private-facade.login":{label:F()(t().translator.trans("sycho-private-facade.forum.log_in_label")),component:z,next:"sycho-private-facade.signup"},"sycho-private-facade.signup":{label:F()(t().translator.trans("sycho-private-facade.forum.sign_up_label")),component:E,next:"sycho-private-facade.login"}},this.currentRoute=this.routes[t().current.data.routeName],t().setTitle(this.currentRoute.label),document.body.classList.contains("body--privateFacade")||document.body.classList.add("body--privateFacade");const r=!["show_only_logo","hide_secondary_items"].includes(t().forum.attribute("sycho-private-facade.header_layout"));this.bodyClass=C()({"App--privateFacade":!0,"App--privateFacade--showHeader":r,"App--privateFacade--logoOnly":!r,"App--privateFacade--primaryBg":t().forum.attribute("sycho-private-facade.primary_color_bg")})}view(){return m("div",{className:"PrivateFacade"},m("div",{className:"PrivateFacade-container container"},m("div",{className:"PrivateFacade-AuthView"},m("div",{className:"PrivateFacade-AuthView-interface","data-primary-background":t().forum.attribute("sycho-private-facade.primary_color_bg")},m("h2",{className:"PrivateFacade-AuthView-interface-title"},t().forum.attribute("sycho-private-facade.screen_banner_title")),m("p",{className:"PrivateFacade-AuthView-interface-message"},m.trust(t().forum.attribute("sycho-private-facade.screen_banner_message"))),m(S,null)),m("div",{className:"PrivateFacade-AuthView-form"},m(this.currentRoute.component,{routeSwitcher:()=>t().forum.attribute("allowSignUp")?m("[",null,m("div",{className:"PrivateFacade-AuthView-separator"},m("span",{class:"PrivateFacade-AuthView-separator-label"},t().translator.trans("sycho-private-facade.forum.or_label"))),m(k(),{className:"Button Button--block PrivateFacade-Button--outline PrivateFacade-Button",onclick:()=>{var e,r;["sycho-private-facade.login","sycho-private-facade.signup"].includes(null==(e=t().history.getPrevious())?void 0:e.name)&&(null==(r=t().history.getPrevious())?void 0:r.name)===this.currentRoute.next?t().history.back():(t().history.push(this.currentRoute.next,this.routes[this.currentRoute.next].label,t().route(this.currentRoute.next)),m.route.set(t().route(this.currentRoute.next)))}},this.routes[this.currentRoute.next].label)):null})))))}}flarum.reg.add("sychoprivate-facade","forum/components/PrivateFacade",I);const L=[(new(g().Routes)).add("sycho-private-facade.login","/login",I).add("sycho-private-facade.signup","/signup",I)];t().initializers.add("sycho/flarum-private-facade",(()=>{const e=()=>["sycho-private-facade.login","sycho-private-facade.signup"].includes(t().current.data.routeName);(0,n.override)(s().prototype,"view",(function(r){if(e()&&["show_only_logo","hide_secondary_items"].includes(t().forum.attribute("sycho-private-facade.header_layout")))return null;for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return r(...a)})),(0,n.override)(o().prototype,"view",(function(r){if(e()&&"show_only_logo"===t().forum.attribute("sycho-private-facade.header_layout"))return null;for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];const n=r(...a);return e()&&n&&t().forum.attribute("sycho-private-facade.primary_color_bg")&&"show_header"!==t().forum.attribute("sycho-private-facade.header_layout")&&(n.attrs["data-primary-background"]=!0),n})),(0,n.override)(u().prototype,"getBackButton",(function(t){if(e())return null;for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return t(...o)})),(0,n.extend)(s().prototype,"items",(e=>{e.has("logIn")&&e.setContent("logIn",m(d(),{className:"Button Button--link",href:t().route("sycho-private-facade.login")},t().translator.trans("core.forum.header.log_in_link"))),e.has("signUp")&&e.setContent("signUp",m(d(),{className:"Button Button--link",href:t().route("sycho-private-facade.signup")},t().translator.trans("core.forum.header.sign_up_link")))})),(0,n.override)(v().prototype,"onmatch",(function(e,r,o,a){const c=t().forum.attribute("sycho-private-facade.url_exclusions");return t().session.user||!t().forum.attribute("sycho-private-facade.force_redirect")||t().forum.attribute("sycho-private-facade.route_exclusions").includes(this.routeName)||c.some((e=>e.includes("*")?new RegExp(e.replace(/\*/g,".*").replace(/\//g,"\\/")).test(o):e===o))?e(r,o,a):m.route.set(t().route("sycho-private-facade.login"))}))}))})(),module.exports=c})();
//# sourceMappingURL=forum.js.map