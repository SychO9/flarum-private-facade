(()=>{var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{"use strict";e.r(t),e.d(t,{extend:()=>h});const a=flarum.reg.get("core","admin/app");var r=e.n(a);const n=flarum.reg.get("core","common/extenders");var s=e.n(n);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t,a){return(t=function(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const l=flarum.reg.get("core","common/components/Button");var c=e.n(l);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}class u extends(c()){constructor(){super(...arguments),i(this,"loading",!1)}view(e){return this.attrs.loading=this.loading,this.attrs.className=(this.attrs.className||"")+" Button",r().data.settings[this.attrs.setting]?(this.attrs.onclick=this.remove.bind(this),m("div",{className:"UploadImageButton-container"},m("div",{className:"UploadImageButton-image-container"},m("img",{className:"UploadImageButton-image",src:r().forum.attribute(this.attrs.serializedName),alt:""})),super.view(p(p({},e),{},{children:m("[",null,r().translator.trans("core.admin.upload_image.remove_button"))})))):(this.attrs.onclick=this.upload.bind(this),super.view(p(p({},e),{},{children:m("[",null,r().translator.trans("core.admin.upload_image.upload_button"))})))}upload(){this.loading||$('<input type="file">').appendTo("body").hide().click().on("change",(e=>{const t=new FormData;t.append(this.attrs.name,$(e.target)[0].files[0]),this.loading=!0,m.redraw(),r().request({method:"POST",url:this.resourceUrl(),serialize:e=>e,body:t}).then(this.success.bind(this),this.failure.bind(this))}))}remove(){this.loading=!0,m.redraw(),r().request({method:"DELETE",url:this.resourceUrl()}).then(this.success.bind(this),this.failure.bind(this))}resourceUrl(){return r().forum.attribute("apiUrl")+"/"+this.attrs.routeName}success(){window.location.reload()}failure(){this.loading=!1,m.redraw()}}flarum.reg.add("sycho-private-facade","admin/components/UploadImageButton",u);const h=[(new(s().Admin)).setting((()=>({setting:"sycho-private-facade.header_layout",label:app.translator.trans("sycho-private-facade.admin.settings.header_layout.title"),default:"show_only_logo",options:{show_header:app.translator.trans("sycho-private-facade.admin.settings.header_layout.options.show_header"),show_only_logo:app.translator.trans("sycho-private-facade.admin.settings.header_layout.options.show_only_logo"),hide_secondary_items:app.translator.trans("sycho-private-facade.admin.settings.header_layout.options.hide_secondary_items")},type:"select"}))).setting((()=>function(){const e=this.setting("sycho-private-facade.use_welcome_hero_text")();console.log(typeof e,e);const t=!0===e||"1"===e;return m("div",{className:"Form-group BasicsPage-welcomeBanner-input PrivateFacade-screenBanner"},m("label",null,app.translator.trans("sycho-private-facade.admin.settings.screen_banner_heading")),m("input",{disabled:t,type:"text",className:"FormControl",placeholder:app.translator.trans("sycho-private-facade.admin.settings.screen_banner_title"),"aria-label":app.translator.trans("sycho-private-facade.admin.settings.screen_banner_title"),bidi:this.setting("sycho-private-facade.screen_banner_title")}),m("textarea",{disabled:t,className:"FormControl",placeholder:app.translator.trans("sycho-private-facade.admin.settings.screen_banner_description"),"aria-label":app.translator.trans("sycho-private-facade.admin.settings.screen_banner_description"),bidi:this.setting("sycho-private-facade.screen_banner_message")}))})).setting((()=>({setting:"sycho-private-facade.use_welcome_hero_text",label:app.translator.trans("sycho-private-facade.admin.settings.use_welcome_hero_text"),default:!0,type:"boolean"}))).setting((()=>({setting:"sycho-private-facade.primary_color_bg",label:app.translator.trans("sycho-private-facade.admin.settings.primary_color_bg"),default:!0,type:"boolean"}))).setting((()=>({setting:"sycho-private-facade.force_redirect",label:app.translator.trans("sycho-private-facade.admin.settings.force_redirect"),default:!0,type:"boolean"}))).setting((()=>({setting:"sycho-private-facade.route_exclusions",label:app.translator.trans("sycho-private-facade.admin.settings.route_exclusions"),type:"text"}))).setting((()=>({setting:"sycho-private-facade.url_exclusions",label:app.translator.trans("sycho-private-facade.admin.settings.url_exclusions"),type:"text"}))).setting((()=>function(){return m("div",{className:"Form-group HeroImageForm"},m("label",{for:"sycho-private-facade.illustration_path"},app.translator.trans("sycho-private-facade.admin.settings.illustration_path")),m(u,{setting:"sycho-private-facade.illustration_path",serializedName:"sycho-private-facade.illustration_url",routeName:"private_facade_illustration",name:"private_facade_illustration"}))}))];r().initializers.add("sycho/flarum-private-facade",(e=>{}))})(),module.exports=t})();
//# sourceMappingURL=admin.js.map