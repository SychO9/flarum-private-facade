{"version":3,"file":"forum/components/LogInSection.js","mappings":"6LAAe,SAASA,EAAYC,EAAMC,GACxC,MAAMC,EAAmB,MAARF,OAAe,EAASA,EAAKE,SAO9C,OANIA,aAAoBC,OAAS,QAASD,IACxCF,EAAKE,SAAuB,MAAZA,OAAmB,EAASA,EAASE,IAAIH,GAAUG,KAAIJ,IACrE,IAAIK,EACJ,OAAoE,OAA3DA,GAAgB,MAARL,OAAe,EAASA,EAAKE,WAAa,WAAgB,EAASG,EAAKC,SAAWP,EAAYC,EAAMC,IAAaD,CAAI,KAGpIA,CACT,CACAO,OAAOC,IAAIC,IAAI,uBAAwB,0BAA2BV,GCNnD,MAAMW,UAAqB,KAExC,KAAAC,GACE,MAAO,CAACC,EAAE,IAAM,CACdC,KAAM,uBACJC,MAAMH,QACZ,CACA,IAAAI,GACE,IAAIC,EACJ,MAAMD,EAAOD,MAAMC,OASnB,OARAhB,EAAYgB,GAAMf,IAChB,IAAIiB,EAIJ,OAHY,MAARjB,GAA8C,OAA7BiB,EAAcjB,EAAKkB,QAA2D,OAAxCD,EAAcA,EAAYE,YAAsBF,EAAYG,SAAS,iBAC9HpB,EAAKE,SAASmB,KAAKP,MAAMQ,SAAS,IAE7BtB,CAAI,IAEbe,EAAKG,MAAMC,UAA0C,OAA7BH,EAAcD,EAAKG,QAA2D,OAAxCF,EAAcA,EAAYG,gBAAqB,EAASH,EAAYO,QAAQ,OAAQ,IAC3IR,CACT,CACA,MAAAO,GACE,MAAMP,EAAOD,MAAMQ,SAInB,OAHIE,IAAIC,MAAMC,UAAU,gBAAkBX,EAAKb,oBAAoBC,QACjEY,EAAKb,SAAS,GAAKyB,KAAKT,MAAMU,iBAEzBb,CACT,GAEF,OAAgBL,EAAc,+BAA+B,IAC7D,OAAgBA,EAAc,iCAAiC,IAC/D,OAAgBA,EAAc,0BAA0B,GACxDH,OAAOC,IAAIC,IAAI,uBAAwB,gCAAiCC,E","sources":["webpack://@sycho/flarum-private-facade/./src/forum/utils/mapChildren.ts","webpack://@sycho/flarum-private-facade/./src/forum/components/LogInSection.tsx"],"sourcesContent":["export default function mapChildren(item, callback) {\n  const children = item == null ? void 0 : item.children;\n  if (children instanceof Array && 'map' in children) {\n    item.children = children == null ? void 0 : children.map(callback).map(item => {\n      var _ref;\n      return ((_ref = (item == null ? void 0 : item.children) || null) == null ? void 0 : _ref.length) && mapChildren(item, callback) || item;\n    });\n  }\n  return item;\n}\nflarum.reg.add('sycho-private-facade', 'forum/utils/mapChildren', mapChildren);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport LogInModal from 'flarum/forum/components/LogInModal';\nimport Icon from 'flarum/common/components/Icon';\nimport mapChildren from '../utils/mapChildren';\nexport default class LogInSection extends LogInModal {\n  // @ts-ignore\n  title() {\n    return [m(Icon, {\n      name: \"fas fa-sign-in-alt\"\n    }), super.title()];\n  }\n  view() {\n    var _view$attrs;\n    const view = super.view();\n    mapChildren(view, item => {\n      var _item$attrs;\n      if (item != null && (_item$attrs = item.attrs) != null && (_item$attrs = _item$attrs.className) != null && _item$attrs.includes('Modal-header')) {\n        item.children.push(super.footer()[0]);\n      }\n      return item;\n    });\n    view.attrs.className = (_view$attrs = view.attrs) == null || (_view$attrs = _view$attrs.className) == null ? void 0 : _view$attrs.replace('fade', '');\n    return view;\n  }\n  footer() {\n    const view = super.footer();\n    if (app.forum.attribute('allowSignUp') && view.children instanceof Array) {\n      view.children[1] = this.attrs.routeSwitcher();\n    }\n    return view;\n  }\n}\n_defineProperty(LogInSection, \"isDismissibleViaCloseButton\", false);\n_defineProperty(LogInSection, \"isDismissibleViaBackdropClick\", false);\n_defineProperty(LogInSection, \"isDismissibleViaEscKey\", false);\nflarum.reg.add('sycho-private-facade', 'forum/components/LogInSection', LogInSection);"],"names":["mapChildren","item","callback","children","Array","map","_ref","length","flarum","reg","add","LogInSection","title","m","name","super","view","_view$attrs","_item$attrs","attrs","className","includes","push","footer","replace","app","forum","attribute","this","routeSwitcher"],"sourceRoot":""}